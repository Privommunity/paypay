<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>町内会費 PayPay 決済手順（簡易版）</title>
  <style>
    body {
      font-family: "Hiragino Sans", "Hiragino Kaku Gothic ProN", "Yu Gothic", sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f5f5;
      color: #333;
      line-height: 1.6;
    }
    .container {
      max-width: 600px;
      margin: 20px auto;
      padding: 20px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h1 {
      font-size: 22px;
      text-align: center;
      margin-bottom: 20px;
      color: #333;
      padding-bottom: 10px;
      border-bottom: 2px solid #ff6060;
    }
    .step {
      background: #fff;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 20px;
      border: 1px solid #eee;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }
    .step-header {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }
    .step-number {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 26px;
      height: 26px;
      background: #ff6060;
      color: white;
      text-align: center;
      border-radius: 50%;
      margin-right: 10px;
      font-weight: bold;
      font-size: 14px;
    }
    .step-title {
      font-size: 18px;
      font-weight: bold;
      color: #333;
      margin: 0;
    }
    .step-content {
      padding-left: 36px;
    }
    .image-container {
      display: block;
      margin: 10px 0;
      text-align: center;
    }
    img {
      max-width: 100%;
      height: auto;
      border: 1px solid #eee;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    .caption {
      display: block;
      text-align: center;
      color: #666;
      font-size: 13px;
      margin-top: 5px;
    }
    .note {
      background: #fef9e7;
      border-left: 3px solid #fcdb6e;
      padding: 10px 15px;
      margin: 15px 0;
      font-size: 14px;
      border-radius: 4px;
    }
    .important {
      font-weight: bold;
      color: #e74c3c;
    }
    .choice-tabs {
      display: flex;
      margin: 15px 0;
      border-bottom: 1px solid #ddd;
    }
    .choice-tab {
      padding: 8px 15px;
      background: #f5f5f5;
      border: 1px solid #ddd;
      border-bottom: none;
      border-radius: 6px 6px 0 0;
      cursor: pointer;
      margin-right: 5px;
      font-size: 14px;
    }
    .choice-tab.active {
      background: #fff;
      border-bottom: 1px solid #fff;
      margin-bottom: -1px;
      color: #ff6060;
      font-weight: bold;
    }
    .choice-panel {
      display: none;
      padding: 15px;
      border: 1px solid #ddd;
      border-top: none;
      border-radius: 0 0 6px 6px;
    }
    .choice-panel.active {
      display: block;
    }
    .action-btn {
      display: block;
      width: 80%;
      max-width: 300px;
      margin: 25px auto;
      padding: 15px;
      background: #ff6060;
      color: white;
      text-align: center;
      border-radius: 50px;
      font-size: 18px;
      font-weight: bold;
      text-decoration: none;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
    }
    .action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 8px rgba(0,0,0,0.15);
      background: #ff4c4c;
    }
    .hint {
      position: relative;
      display: inline-block;
      width: 100%;
      margin: 5px 0;
    }
    .hand-icon {
      position: absolute;
      right: 10%;
      bottom: 20%;
      width: 30px;
      height: 30px;
    }
    .final-note {
      text-align: center;
      margin-top: 15px;
      color: #666;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>町内会費をPayPayで簡単に支払う方法</h1>
    
    <div class="step">
      <div class="step-header">
        <div class="step-number">1</div>
        <h2 class="step-title">支払いページを開く</h2>
      </div>
      <div class="step-content">
        <p>下のボタンをタップしてPayPay支払い画面を開きます</p>
        <div class="image-container">
          <img src="1.png" alt="PayPay支払い画面">
          <span class="caption">N.Kusakaさんに3,600円送る画面</span>
        </div>
      </div>
    </div>

    <div class="step">
      <div class="step-header">
        <div class="step-number">2</div>
        <h2 class="step-title">メッセージを書く</h2>
      </div>
      <div class="step-content">
        <p>「メッセージを書く」ボタンをタップします</p>
        <div class="image-container hint">
          <img src="image2.png" alt="メッセージを書くボタン" onError="this.onerror=null; this.src='2.png';">
          <span class="caption">「メッセージを書く」をここでタップ</span>
        </div>
      </div>
    </div>

    <div class="step">
      <div class="step-header">
        <div class="step-number">3</div>
        <h2 class="step-title">メッセージ入力欄をタップ</h2>
      </div>
      <div class="step-content">
        <p>表示された赤い画面の入力欄をタップします</p>
        <div class="image-container hint">
          <img src="image3.png" alt="メッセージ入力欄" onError="this.onerror=null; this.src='3.png';">
          <span class="caption">入力欄をタップ</span>
        </div>
      </div>
    </div>

    <div class="step">
      <div class="step-header">
        <div class="step-number">4</div>
        <h2 class="step-title">必要な情報を入力</h2>
      </div>
      <div class="step-content">
        <div class="choice-tabs">
          <button class="choice-tab active" onclick="openChoice(event, 'apartment')">アパート等居住者</button>
          <button class="choice-tab" onclick="openChoice(event, 'house')">戸建て世帯主</button>
        </div>
        
        <div id="apartment" class="choice-panel active">
          <p class="important">アパート・マンションにお住まいの方は：</p>
          <p>物件名・部屋番号・お名前を入力してください</p>
          <div class="note">
            例：恵み野アパート101号 石巻太郎
          </div>
          <div class="image-container">
            <img src="image5.png" alt="アパート入力例" onError="this.onerror=null; this.src='5.png';">
            <span class="caption">入力例（アパート居住者）</span>
          </div>
        </div>
        
        <div id="house" class="choice-panel">
          <p class="important">戸建てにお住まいの方は：</p>
          <p>お名前のみ入力してください</p>
          <div class="note">
            例：石巻太郎
          </div>
          <div class="image-container">
            <img src="image7.png" alt="戸建て入力例" onError="this.onerror=null; this.src='7.png';">
            <span class="caption">入力例（戸建て世帯主）</span>
          </div>
        </div>
      </div>
    </div>

    <div class="step">
      <div class="step-header">
        <div class="step-number">5</div>
        <h2 class="step-title">「メッセージを追加する」をタップ</h2>
      </div>
      <div class="step-content">
        <p>青い「メッセージを追加する」ボタンをタップします</p>
        <div class="image-container hint">
          <img src="image6.png" alt="メッセージを追加するボタン" onError="this.onerror=null; this.src='6.png';">
          <span class="caption">「メッセージを追加する」をタップ</span>
        </div>
      </div>
    </div>

    <div class="step">
      <div class="step-header">
        <div class="step-number">6</div>
        <h2 class="step-title">支払いを確定する</h2>
      </div>
      <div class="step-content">
        <p>内容を確認し、青い「3,600円を送る」ボタンをタップして支払いを完了します</p>
        <div class="image-container hint">
          <img src="image10.png" alt="支払い確定画面" onError="this.onerror=null; this.src='10.png';">
          <span class="caption">「3,600円を送る」をタップ</span>
        </div>
        <div class="note">
          支払い完了後、町内会の集金担当者が後日、領収書をポストに投函します
        </div>
      </div>
    </div>

    <a href="https://qr.paypay.ne.jp/p2p01_qlGKCaiSgtRyR7Tz" class="action-btn">支払い手続きを始める</a>
    
    <p class="final-note">※ボタンをタップするとPayPay支払い画面が開きます</p>
  </div>

  <script>
    function openChoice(evt, choiceName) {
      // パネルをすべて非表示
      var panels = document.getElementsByClassName("choice-panel");
      for (var i = 0; i < panels.length; i++) {
        panels[i].classList.remove("active");
      }
      
      // タブのアクティブ状態をリセット
      var tabs = document.getElementsByClassName("choice-tab");
      for (var i = 0; i < tabs.length; i++) {
        tabs[i].classList.remove("active");
      }
      
      // 選択されたパネルとタブをアクティブに
      document.getElementById(choiceName).classList.add("active");
      evt.currentTarget.classList.add("active");
    }
    
    // 画像の読み込みエラー処理を追加
    window.onload = function() {
      var images = document.getElementsByTagName('img');
      for (var i = 0; i < images.length; i++) {
        // すでにエラーハンドラが設定されている場合はスキップ
        if (!images[i].hasAttribute('onerror')) {
          // 数字のみのファイル名をフォールバックとして試みる
          var imgSrc = images[i].src;
          var fileName = imgSrc.split('/').pop();
          var numberOnly = fileName.replace(/[^0-9]/g, '');
          
          images[i].onerror = function() {
            this.onerror = null;
            var currentSrc = this.src;
            var fileName = currentSrc.split('/').pop();
            var numberOnly = fileName.replace(/[^0-9]/g, '');
            this.src = numberOnly + '.png';
          };
        }
      }
    };
  </script>
</body>
</html>
